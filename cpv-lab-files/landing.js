var queryEngSec=getQueryUrl("engsec"),queryCaptureResolution=getQueryUrl("clcsr"),clpaddesktimer=null,hidLocation=document.getElementById("hidLocation"),clroot=null!=hidLocation&&""!=hidLocation.value?hidLocation.value:"";function getQueryUrl(e){for(hu=window.top.location.search.substring(1),gy=hu.split("&"),i=0;i<gy.length;i++)if((ft=gy[i].split("="))[0]==e)return decodeURIComponent(ft[1]);return null}"undefined"!=typeof clpconfig&&"object"==typeof clpconfig&&null!==clpconfig&&(null!=clpconfig.clroot&&(clroot=clpconfig.clroot),null!=queryEngSec&&"0"!=queryEngSec&&!isNaN(queryEngSec)||(queryEngSec=null!=clpconfig.engsec?clpconfig.engsec:"0"),null==queryCaptureResolution)&&(queryCaptureResolution=null!=clpconfig.clcsr?clpconfig.clcsr:0),null==queryEngSec||"0"==queryEngSec||isNaN(queryEngSec)||""==clroot||setTimeout("ClTrackEngage()",1e3*queryEngSec),null!=queryCaptureResolution&&"1"==queryCaptureResolution&&""!=clroot&&(clpaddesktimer=setTimeout(desktopDetails,1e3));var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function trim(e){return e.replace(/^\s*|\s*$|\n|\r/g,"")}function encode64(e){for(var t,n,o,r,c,l="",i="",a=0;o=(t=e.charCodeAt(a++))>>2,r=(3&t)<<4|(t=e.charCodeAt(a++))>>4,c=(15&t)<<2|(n=e.charCodeAt(a++))>>6,i=63&n,isNaN(t)?c=i=64:isNaN(n)&&(i=64),l=l+keyStr.charAt(o)+keyStr.charAt(r)+keyStr.charAt(c)+keyStr.charAt(i),c=i="",a<e.length;);return l}function trackEngage(){ClTrackEngage()}function ClTrackEngage(){WriteImagePixel(clroot+"adeng.php")}function ClTrackSub(){WriteImagePixel(clroot+"adsub.php")}function CpvTrackToken(e,t){var n="";if(Array.isArray(e)&&Array.isArray(t)){for(i=0;i<Math.min(e.length,t.length);i++)n+="&"+encodeURIComponent(e[i])+"="+encodeURIComponent(t[i]);""!=n&&(n=n.substring(1))}else n=encodeURIComponent(e)+"="+encodeURIComponent(t);""!=n&&WriteImagePixel(clroot+"tokens.php?"+n)}function checkdirect(e,t,n){for(var o=["clpcid","bmsid"],r=0;r<o.length;){var c=Number(getQueryUrl(o[r]));null!=c&&!isNaN(c)&&Number.isInteger(c)&&0<c?(e=c,r=o.length):r++}void 0!==clpaddesktimer&&null!=clpaddesktimer&&clearTimeout(clpaddesktimer),"undefined"!=typeof clpmvlcalltimer&&null!=clpmvlcalltimer&&clearTimeout(clpmvlcalltimer),void 0===n&&(n="");var l="undefined"!=typeof clpconfig&&"object"==typeof clpconfig&&null!=clpconfig.clcsr&&1==clpconfig.clcsr?"&clpreslw="+screen.width+"&clpreslh="+screen.height+"&clpreslr="+(window.top.devicePixelRatio||1):"",i=document.getElementById("clpmvlvarshid"),i=null!=i&&""!=i.value?"&"+i.value:"",a=window.top.location.pathname.substring(location.pathname.lastIndexOf("/")+1);""==a&&(a=location.pathname),WriteImagePixel(requestUrl=clroot+"adck.php?c="+e+"&l="+t+"&id="+n+"&"+window.top.location.search.substring(1)+"&clpgnm="+encodeURIComponent(a)+i+l+"&r="+encode64(trim(document.referrer)))}function desktopDetails(){WriteImagePixel(clroot+"addesk.php?w="+screen.width+"&h="+screen.height)}function resetCookie(e){WriteImagePixel(clroot+"resetcookie.php?l="+(e=void 0===e?1:e)+"&t=image")}function fbCapiTrack(e){null==e&&(e=500);var r=0;setTimeout(function e(){r++;var t=get_cookie("cpvlabsubid"),n=get_cookie("_fbc"),o=get_cookie("_fbp");""==t||""==n&&""==o?r<50?setTimeout(e,200):console.log("Failed to retrieve FB data after "+r+" attempts."):WriteImagePixel(clroot+"tokens-fb.php?subid="+t+"&fbc="+n+"&fbp="+o)},e)}function appendParamToLink(e,t,n){var o,n=document.getElementById(n);return null!=e&&null!=n&&(o=-1==e.href.indexOf("?")?"?":"&",e.href+=o+t+"="+n.value),!0}function appendParamToLinkID(e,t,n){e=document.getElementById(e);return null!=e&&appendParamToLink(e,t,n),!0}function WriteImagePixel(e){var t=document.createElement("img");t.src=e+(-1==e.indexOf("?")?"?":"&")+"rnd="+Math.random(),t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("border","0"),t.setAttribute("style","display:none"),null!=document.body?document.body.appendChild(t):document.addEventListener("DOMContentLoaded",e=>{document.body.appendChild(t)})}function get_cookie(e){e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):""}